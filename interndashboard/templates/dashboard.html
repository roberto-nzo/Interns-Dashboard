{% extends 'index.html' %}
{% block body %}
<br>
<div class="card m-auto" style="width: 100%">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Topic</th>
                        <th>Description</th>
                        <th>Starting date</th>
                        <th>Finish date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for output in outputs %}
                    <tr>
                        <td>{{output.topics}}</td>
                        <td>{{output.description}}</td>
                        <td>{{output.startingdate}}</td>
                        <td>{{output.finishdate}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <br>
        <div id="chart1" style="resize:both; overflow:auto"></div>
    </div>
</div>
<br>
{% if session['studentnumber'] != 1 %}
<div>
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Topic</th>
                    <th>Description</th>
                    <th>Starting date</th>
                    <th>Finish date</th>
                </tr>
            </thead>
            <tbody>
                {% for w in results %}
                <tr>
                    <td><a href="{{url_for('utils.dashboard_manipulate', topics=w.topics)}}">{{w.topics}}</a></td>
                    <td>{{w.description}}</td>
                    <td>{{w.startingdate}}</td>
                    <td>{{w.finishdate}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div>
    {% set x = outputs[0] %}
    {% set y = x['studentnumber'] %}
    <a href="{{url_for('utils.createtopic', studentnumber=y)}}" class="btn btn-success">Create</a>
</div>
{% endif %}

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    var graph1 = {{ graph1json | safe}};
    Plotly.plot('chart1', graph1, {})
</script>
{% endblock %}